<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Carpet Version 3</title>
  </head>

  <body>
    <h1>Carpet Version 3</h1>

    <p>The release branch for Carpet Version 3 was created on
    September 26, 2006.  Version 3 has several major improvements over
    version 2; all users of version 2 should consider updating.</p>

    <p>Special thanks appertain to Luca Baiotti, Ian Hawke, Christian
    D. Ott, Thomas Radke, Jonathan Thornburg, and Steve White for
    their contributions.</p>

    <p>Here is a list of the major changes:</p>

    <h3>Grid hierarchy</h3>
    <ul>
      <li>Carpet has improved support for dynamic regridding.  Thorn
        CarpetRegrid can automatically coalesce overlapping regions,
        which simplfies specifying refined regions.  A new Cactus
        schedule bin <b>preregrid</b> was introduced where thorns can
        schedule routines that decide on a new grid structure.</li>
      <li>It is not necessary any more to allocate all storage for all
        variables at all times, i.e., it is now reasonably possible to
        honour the <b>STORAGE</b> statements in the schedule.  This is
        done by the parameter
        setting <b>Carpet::enable_all_storage&nbsp;=&nbsp;no</b>, and
        it can unsurprisingly reduce the memory requirements
        considerably.  This is not yet the default setting.</li>
      <li>Carpet checks whether the grid hierarchy is properly nested.
        This is only an advice, not a requirement, since a not
        properly nested grid hierarchy is technically still well
        defined.  It is sometimes surprising how many grid points per
        level are required for proper nesting.</li>
      <li>Checkpointing stores the grid hierarchy, so that it can be
        automatically faithfully recovered.  This requires the
        parameter
        settings <b>Carpet::regrid_during_recovery&nbsp;=&nbsp;no</b>
        and <b>CarpetIOHDF5::use_grid_structure_from_checkpoint&nbsp;=&nbsp;yes</b>.
        This is not yet the default setting.</li>
    </ul>
    
    <h3>Performance</h3>
    <ul>
      <li>Carpet scales better on multiple processors.</li>
      <li>Several of Carpet's internal administrative calculations are
        faster</li>
      <li>Carpet has timing and memory statistics, which help users
        determine on what parts of a simulation the time is spent</li>
    </ul>
    
    <h3>I/O</h3>
    <ul>
      <li>A new thorn CarpetIOBasic replaces the old IOBasic,
        providing more convenient screen output.  It performs global
        reductions over the whole grid hierarchy instead of one
        reduction per refinement level.</li>
      <li>CarpetIOASCII produces one-dimensional output along the
        diagonal.</li>
      <li>Each output file is annotated with a unique build id and a
        unique simulation id, so that files can be associated with the
        run and source tree that produced them.  This requires thorn
        Formaline to be active.</li>
    </ul>
    
    <h3>Interpolation</h3>
    <ul>
      <li>CarpetLib provides WENO (Weighted Essentially
        Non-Oscillatory) prolongation operators for hydrodynamics
        simulations.  CarpetLib had already support for TVD and ENO
        operators, in addition to the standard Lagrange
        operators.</li>
      <li>CarpetInterp supports using non-standard (but still uniform)
        coordinate systems, allowing interpolating in grid arrays.
        Several serious errors in CarpetInterp were corrected.</li>
    </ul>
    
    <h3>Multi-patch and multi-model</h3>
    <ul>
      <li>Checkpointing and recovery with multiple grid patches was
        corrected.</li>
      <li>Different grid patches can have different (local) grid
        spacings and different numbers of grid points.</li>
      <li>There is initial support for multi-model simulations.  These
        are essentially independent simulations which are coupled only
        e.g. through a boundary condition between two disjoint domains
        containing different physical systems.</li>
    </ul>
    
    <h3>Documentation and utilities</h3>
    <ul>
      <li>Carpet's documentation was improved.  In particular, the
        schedule skeleton is now documented, describing which schedule
        bins and which other actions occur in what order.</li>
      <li>A variety of utilities for post-processing Carpet output
        were added or improved, e.g. for convertion Carpet ASCII
        output to the ygraph format, or for extracting certain pieces
        of HDF5 files.</li>
    </ul>
    
    <h3>Smallish things</h3>
    <ul>
      <li>Many small errors were corrected</li>
      <li>Many small features were added</li>
      <li>Some error messages were improved</li>
      <li>Many superfluous warning messages were removed</li>
      <!-- Shameless self-advertising -->
      <li>Carpet is now used by eleven relativity groups in the world.</li>
      <!-- and it was the base for 15 scientific publications and at
        least 2 PhD theses -->
      <li>I'm looking for someone to make these web pages look
        nicer.</li>
    </ul>

    <hr />

    <p>Go back to the <a href=".">Carpet home page</a>.</p>

    <hr />

    <p>
      <a href="http://www.xemacs.org/About/created.html"><img
      src="cbxSmall.jpg" alt="Created with XEmacs!" height="36"
      width="100" /></a>
      
      <a href="http://www.anybrowser.org/campaign/"><img
      src="logoab8.png" alt="Best Viewed With Any Browser" height="31"
      width="88" /></a>

      <a href="http://validator.w3.org/check?uri=referer"><img
          src="http://www.w3.org/Icons/valid-xhtml10"
          alt="Valid XHTML 1.0!" height="31" width="88" /></a>
    </p>

    <hr />
    <address><a href="mailto:schnetter@cct.lsu.edu">Erik Schnetter</a></address>
<!-- Created: Wed Sep 27 2006 -->
<!-- hhmts start -->
Last modified: Wed Jan 24 2007
<!-- hhmts end -->
  </body>
</html>
